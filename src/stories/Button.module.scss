@import "../style/global.scss";

@include keyframes(pushnext) {
  0% {
    @include transform(rotate(45deg) translate3d(0, 0, 0));
  }

  50% {
    @include transform(rotate(45deg) translate3d(2px, -2px, 0));
  }

  100% {
    @include transform(rotate(45deg) translate3d(0, 0, 0));
  }
}
@include keyframes(pushprev) {
  0% {
    @include transform(rotate(-135deg) translate3d(0, 0, 0));
  }

  50% {
    @include transform(rotate(-135deg) translate3d(-2px, 2px, 0));
  }

  100% {
    @include transform(rotate(-135deg) translate3d(0, 0, 0));
  }
}

.button {
  @include appearance(none);
  @include border-radius(0);
  @include transition(
    filter $default-transition,
    background-color $default-transition,
    color $default-transition,
    border-color $default-transition
  );
  font-family: $default-font;
  border-style: solid;
  border-width: 1px;
  border-color: $color-primary;
  cursor: pointer;
  line-height: 1;
  position: relative;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  margin-right: 5px;
  margin-bottom: 5px;
  font-size: 17px;
  font-weight: 500;
  @media only screen and (min-width: $screen-sm) {
    font-size: 20px;
  }

  &.hasTheme {
    &:hover,
    &:focus,
    &:focus-within {
      filter: brightness(90%);
    }

    &:active {
      filter: brightness(85%);
    }
  }

  &:focus {
    outline-offset: 3px;
  }

  &:focus-visible,
  &:focus-within {
    outline-color: $color-primary;
  }

  &.regular {
    padding: 16px 24px;
  }

  &.small {
    padding: 6px 24px;
    min-width: 80px;
    line-height: 18px;
    @media only screen and (min-width: $screen-sm) {
      line-height: 21px;
      padding: 6px 32px;
    }
  }

  &.default {
    background-color: #fff;
    color: $color-primary-text;
    border-color: $color-secondary-light;
    &:not(.hasTheme) {
      &:hover:not(.noHover),
      &:focus-visible {
        background-color: $color-secondary-x-light;
        color: $color-primary-text;
        &:after,
        &:before {
          border-color: $color-secondary-light;
        }
      }
      &:active:not(.noHover),
      &:active:hover:not(.noHover) {
        background-color: $color-secondary-light;
        color: $color-primary-text;
        &:after,
        &:before {
          border-color: $color-secondary-light;
        }
      }
    }
  }

  &.primary {
    background-color: $color-primary;
    color: #fff;
    &:not(.hasTheme) {
      &:hover:not(.noHover),
      &:focus-visible {
        background-color: $color-primary-light;
        border-color: $color-primary-light;
        color: #fff;
        &:after,
        &:before {
          border-color: $color-primary-light;
        }
      }
      &:active:not(.noHover),
      &:active:hover:not(.noHover) {
        background-color: $color-primary-x-light;
        border-color: $color-primary-x-light;
        color: #fff;
        &:after,
        &:before {
          border-color: $color-primary-x-light;
        }
      }
    }
  }

  &:disabled,
  &.disabled {
    &.hasTheme {
      opacity: 0.6;
      cursor: default;
      &:hover,
      &:focus,
      &:focus-within,
      &:active {
        opacity: 0.6;
        cursor: default;
      }
    }
    &:not(.hasTheme) {
      &.default,
      &.primary {
        background-color: $color-secondary-light;
        cursor: default;
        color: #fff;
        border: 1px solid $color-secondary-light;
        &:hover:not(.noHover),
        &:focus-visible,
        &:active:not(.noHover),
        &:active:hover:not(.noHover) {
          background-color: $color-secondary-light;
          cursor: default;
          color: #fff;
          border: 1px solid $color-secondary-light;
          &:before,
          &:after {
            border-color: $color-secondary-light;
          }
        }
        &:before,
        &:after {
          border-color: $color-secondary-light;
        }
      }
    }
  }

  &.hasErrors {
    @include box-shadow(0 0 2px 1px $color-error);
    border-color: $color-error;
  }

  &.rounded {
    border-radius: 20px;
  }

  &.hasArrowLeft {
    &:before {
      @include transform(rotate(-135deg));
      content: " ";
      display: inline-block;
      margin-right: 1em;
      width: 0.5rem;
      height: 0.5rem;
      vertical-align: middle;
      border-style: solid;
      border-width: 2px 2px 0 0;
      margin-right: 1em;
      @media only screen and (min-width: $screen-sm) {
        left: 1em;
      }
    }

    &:hover:not(.noHover),
    &:focus-visible,
    &:active:not(.noHover),
    &:active:hover:not(.noHover) {
      &:before {
        @include animation(pushprev 0.8s linear infinite);
      }
      &.default {
        &:before {
          border-color: $color-primary;
        }
      }
      &.primary {
        &:before {
          border-color: #fff;
        }
      }
    }
  }

  &.hasArrowRight {
    &:after {
      @include transform(rotate(45deg));
      content: " ";
      display: inline-block;
      margin-left: 1em;
      width: 0.5rem;
      height: 0.5rem;
      vertical-align: middle;
      border: 2px solid white;
      border-width: 2px 2px 0 0;
      margin-left: 1em;
      @media only screen and (min-width: $screen-sm) {
        right: 1em;
      }
    }

    &:hover:not(.noHover),
    &:focus-visible,
    &:active:not(.noHover),
    &:active:hover:not(.noHover) {
      &:after {
        @include animation(pushnext 0.8s linear infinite);
      }
      &.default {
        &:after {
          border-color: $color-primary;
        }
      }
      &.primary {
        &:after {
          border-color: #fff;
        }
      }
    }
  }
}

label.button {
  input[type="radio"] {
    @include appearance(none);
    margin: 0;
  }
}
